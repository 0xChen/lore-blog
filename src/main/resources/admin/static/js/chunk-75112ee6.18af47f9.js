(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75112ee6"],{"4b2b":function(e,t,n){e.exports={primaryColor:"#3298dc",menuTextColor:"rgba(255,255,255,.65)",menuActiveTextColor:"#3298dc",menuBackgroundColor:"#324157",sidebarWidth:"210px",sidebarCollapsedWidth:"64px",headerHeight:"64px"}},a15b:function(e,t,n){"use strict";var a=n("23e7"),i=n("44ad"),l=n("fc6a"),r=n("a640"),o=[].join,s=i!=Object,c=r("join",",");a({target:"Array",proto:!0,forced:s||!c},{join:function(e){return o.call(l(this),void 0===e?",":e)}})},a434:function(e,t,n){"use strict";var a=n("23e7"),i=n("23cb"),l=n("a691"),r=n("50c4"),o=n("7b0b"),s=n("65f0"),c=n("8418"),u=n("1dde"),d=n("ae40"),p=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,b=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!p||!m},{splice:function(e,t){var n,a,u,d,p,m,y=o(this),k=r(y.length),v=i(e,k),w=arguments.length;if(0===w?n=a=0:1===w?(n=0,a=k-v):(n=w-2,a=b(f(l(t),0),k-v)),k+n-a>h)throw TypeError(g);for(u=s(y,a),d=0;d<a;d++)p=v+d,p in y&&c(u,d,y[p]);if(u.length=a,n<a){for(d=v;d<k-a;d++)p=d+a,m=d+n,p in y?y[m]=y[p]:delete y[m];for(d=k;d>k-a+n;d--)delete y[d-1]}else if(n>a)for(d=k-a;d>v;d--)p=d+a-1,m=d+n-1,p in y?y[m]=y[p]:delete y[m];for(d=0;d<n;d++)y[d+v]=arguments[d+2];return y.length=k-a+n,u}})},d536:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"link"},[n("div",{staticClass:"search-form"},[n("el-row",{attrs:{gutter:4}},[n("el-col",{attrs:{md:4,sm:12}},[n("el-input",{attrs:{placeholder:"名称",size:"small",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1),n("el-col",{attrs:{md:6,sm:12}},[n("el-input",{attrs:{placeholder:"网址",size:"small",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.queryParam.url,callback:function(t){e.$set(e.queryParam,"url",t)},expression:"queryParam.url"}})],1),n("el-col",{attrs:{md:8,sm:12}},[n("el-input",{attrs:{placeholder:"描述",size:"small",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.queryParam.description,callback:function(t){e.$set(e.queryParam,"description",t)},expression:"queryParam.description"}})],1),n("el-col",{attrs:{md:3,sm:8}},[n("el-select",{attrs:{placeholder:"是否显示",size:"small",clearable:""},on:{change:e.handleFilter},model:{value:e.queryParam.visible,callback:function(t){e.$set(e.queryParam,"visible",t)},expression:"queryParam.visible"}},[n("el-option",{key:1,attrs:{label:"是",value:1}}),n("el-option",{key:0,attrs:{label:"否",value:0}})],1)],1),n("el-col",{attrs:{md:3,sm:4}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.getLinkPage}},[e._v(" 搜索 ")])],1)],1)],1),n("div",{staticClass:"table-toolbar"},[n("dynamic-column",{staticClass:"table-toolbar-item",attrs:{tableColumns:e.tableColumns},on:{"column-update":e.columnUpdate}}),n("el-tooltip",{attrs:{effect:"dark",content:"刷新表格",placement:"top"}},[n("svg-icon",{staticClass:"table-toolbar-item",attrs:{name:"reload"},on:{click:function(t){return t.stopPropagation(),e.getLinkPage(t)}}})],1),n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(t){return t.stopPropagation(),e.addNewLine(t)}}},[e._v(" 新增一行 ")]),n("el-tooltip",{attrs:{effect:"dark",content:"删除数据表格中选中的行",placement:"top"}},[n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-minus"},on:{click:e.deleteBatch}},[e._v(" 批量删除 ")])],1)],1),n("div",{staticClass:"table-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"linkTable",attrs:{data:e.records,"row-key":e.rowKey,border:!0,stripe:!0,fit:!0,"highlight-current-row":!0}},[n("el-table-column",{attrs:{type:"selection",align:"center",width:"50",fixed:"left"}}),n("el-table-column",{attrs:{label:"序号",type:"index",index:1,align:"center",width:"50",fixed:"left"}}),e._l(e.tableColumns,(function(t,a){return n("el-table-column",e._b({key:t.prop+"-"+a,attrs:{"column-key":t.prop,align:t.align?t.align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row,i=t.column;return[a.isEdit?["visible"===i.property?[n("el-select",{attrs:{placeholder:i.label,size:"small"},model:{value:a[i.property],callback:function(t){e.$set(a,i.property,t)},expression:"row[column.property]"}},[n("el-option",{key:1,attrs:{label:"是",value:1}}),n("el-option",{key:0,attrs:{label:"否",value:0}})],1)]:"createTime"===i.property?[e._v(" "+e._s(e._f("dateFormat")(a[i.property]))+" ")]:[n("el-input",{attrs:{placeholder:i.label,size:"small"},model:{value:a[i.property],callback:function(t){e.$set(a,i.property,t)},expression:"row[column.property]"}})]]:["visible"===i.property?[e._v(" "+e._s("1"===a[i.property]?"是":"否")+" ")]:"createTime"===i.property?[e._v(" "+e._s(e._f("dateFormat")(a[i.property]))+" ")]:[e._v(" "+e._s(a[i.property])+" ")]]]}}],null,!0)},"el-table-column",t,!1))})),n("el-table-column",{attrs:{label:"操作",align:"center",width:"120",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row,i=(t.column,t.$index);return[a.isEdit?[a.isNew?[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.handleSave(a)}}},[e._v(" 添加 ")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.handleRemove(i)}}},[e._v(" 移除 ")])]:[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.handleUpdate(a)}}},[e._v(" 保存 ")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.handleCancel(a)}}},[e._v(" 取消 ")])]]:[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.handleEdit(a)}}},[e._v(" 编辑 ")]),n("el-popconfirm",{attrs:{hideIcon:"",placement:"left",title:"是否要删除此行？"},on:{onConfirm:function(t){return e.handleDelete(a)}},scopedSlots:e._u([{key:"reference",fn:function(){return[n("el-button",{attrs:{type:"danger",size:"mini"}},[e._v(" 删除 ")])]},proxy:!0}],null,!0)})]]}}])})],2)],1),n("div",{staticClass:"table-pagination"},[n("pagination",e._b({on:{pagination:e.handlePagination}},"pagination",e.pagination,!1))],1)])},i=[],l=(n("4de4"),n("4160"),n("a434"),n("b64b"),n("159b"),n("f3f3")),r=(n("a4d3"),n("e01a"),n("a15b"),n("b0c0"),n("b775")),o="/admin",s={getLink:function(e){return Object(r["a"])({url:"".concat(o,"/links/").concat(e),method:"get"})},getLinkPage:function(e){var t=e.name,n=e.url,a=e.description,i=e.visible,l=e.page,s=e.size;return Object(r["a"])({url:"".concat(o,"/links"),method:"get",params:{name:t,url:n,description:a,visible:i,page:l,size:s}})},saveLink:function(e){var t=e.id,n=e.name,a=e.url,i=e.sort,l=e.description,s=e.visible;return Object(r["a"])({url:"".concat(o,"/links"),method:"post",data:{id:t,name:n,url:a,sort:i,description:l,visible:s}})},deleteLink:function(e){return Object(r["a"])({url:"".concat(o,"/links/").concat(e),method:"delete"})},deleteLinkBatch:function(e){return Object(r["a"])({url:"".concat(o,"/links/").concat(e.join(","),"/batch"),method:"delete"})},updateLink:function(e){var t=e.id,n=e.name,a=e.url,i=e.sort,l=e.description,s=e.visible;return Object(r["a"])({url:"".concat(o,"/links/").concat(t),method:"put",data:{id:t,name:n,url:a,sort:i,description:l,visible:s}})}},c=s,u=n("221c"),d={name:"Link",components:{DynamicColumn:u["a"]},data:function(){return{records:[],tableHead:[{prop:"name",label:"名称",display:!0},{prop:"url",label:"网址",display:!0},{prop:"sort",label:"排序",align:"right",width:80,sortable:!0,display:!0},{prop:"description",label:"描述",showOverflowTooltip:!0,display:!0},{prop:"visible",label:"是否显示",width:120,display:!0},{prop:"createTime",label:"创建时间",sortable:!0,display:!0}],queryParam:{name:"",url:"",description:"",visible:""},pagination:{page:1,size:10,total:0},tableLoading:!1}},computed:{tableColumns:function(){return this.tableHead.filter((function(e){return e.display}))}},created:function(){this.getLinkPage()},methods:{getLinkPage:function(){var e=this;this.tableLoading=!0,c.getLinkPage(Object(l["a"])(Object(l["a"])({},this.queryParam),this.pagination)).then((function(t){var n=t.data;e.records=n.records,e.pagination.page=n.current,e.pagination.size=n.size,e.pagination.total=n.total})).catch((function(){})).then((function(){e.tableLoading=!1}))},handlePagination:function(e){this.pagination.page=e.page,this.pagination.size=e.size,this.getLinkPage()},columnUpdate:function(e){var t=this;this.tableHead=e,this.$nextTick((function(){t.$refs.linkTable.doLayout()}))},rowKey:function(e){return e["row-key"]?e["row-key"]:null!==e.id?"row-".concat(e.id):(e["row-key"]="row-".concat(Math.random()),e["row-key"])},addNewLine:function(){var e={id:null,name:null,url:null,sort:null,description:null,visible:1,createTime:(new Date).getTime(),isEdit:!0,isNew:!0};this.records.push(e)},deleteBatch:function(){var e=this,t=this.$refs.linkTable.selection;if(0!==t.length){var n=[];t.forEach((function(t){if(null!==t.id)n.push(t.id);else for(var a=0,i=Object.keys(e.records);a<i.length;a++){var l=i[a];if(t["row-key"]===e.records[l]["row-key"]){e.records.splice(l,1);break}}})),n.length>0&&(this.tableLoading=!0,c.deleteLinkBatch(n).then((function(){e.$message.success("删除成功")})).catch((function(){e.$message.error("删除失败")})).then((function(){e.getLinkPage()})))}else this.$message.warning("请勾选需要删除的数据")},handleSave:function(e){var t=this;this.tableLoading=!0,c.saveLink(e).then((function(){t.$message.success("保存成功"),t.getLinkPage()})).catch((function(){t.$message.error("保存失败")})).then((function(){t.tableLoading=!1}))},handleDelete:function(e){var t=this;this.tableLoading=!0,c.deleteLink(e.id).then((function(){t.$message.success("删除成功")})).catch((function(){t.$message.error("删除失败")})).then((function(){t.getLinkPage()}))},handleRemove:function(e){this.records.splice(e,1)},handleUpdate:function(e){var t=this;this.tableLoading=!0,c.updateLink(e).then((function(){t.$message.success("保存成功"),t.getLinkPage()})).catch((function(){t.$message.error("保存失败")})).then((function(){t.tableLoading=!1}))},handleEdit:function(e){void 0===e.isEdit?this.$set(e,"isEdit",!0):e.isEdit=!0},handleCancel:function(e){e.isEdit=!1},handleFilter:function(){}}},p=d,m=(n("dedf"),n("2877")),f=Object(m["a"])(p,a,i,!1,null,null,null);t["default"]=f.exports},dedf:function(e,t,n){"use strict";var a=n("4b2b"),i=n.n(a);i.a}}]);